#!/bin/sh
# luajit wrapper that loads C libs from this dir and Lua libs from 2 dirs above.
# platform-specific Lua libs are loaded with priority from this dir.

bindir="$( cd "$(dirname "$0")"; echo $PWD )" # this script's dir: 2 process spawns to get it, the unix way.
luadir="$bindir/../.."                        # platform-indep. Lua modules
platform_dir="$bindir/lua"                    # platform-specific Lua modules

LD_LIBRARY_PATH="$bindir" \
LUA_CPATH="$bindir/?.so" \
LUA_PATH="?.lua;$platform_dir/?.lua;$luadir/?.lua" \
"$bindir/luajit-bin" "$@"
